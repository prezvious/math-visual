<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Combinatorics Visualization</title>
    <meta name="description" content="Interactive visualization of combinatorial concepts: Pascal's Triangle, Lattice Paths, Handshake Problem, and Word Permutations">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <div class="lang-switch-container">
            <button class="lang-btn" id="langToggle" onclick="toggleLanguage()">EN / ID</button>
        </div>

        <header>
            <h1 id="pageTitle">Combinatorics Visualization</h1>
            <p class="subtitle" id="pageSubtitle">Interactive exploration of combination concepts in probability</p>
        </header>

        <!-- Tab Navigation -->
        <nav class="tab-nav" role="tablist">
            <button class="tab-btn" role="tab" onclick="switchTab('pascal')" id="tabPascal">üî∫ Pascal's Triangle</button>
            <button class="tab-btn" role="tab" onclick="switchTab('lattice')" id="tabLattice">üî≤ Lattice Paths</button>
            <button class="tab-btn" role="tab" onclick="switchTab('handshake')" id="tabHandshake">ü§ù Handshake</button>
            <button class="tab-btn" role="tab" onclick="switchTab('permutation')" id="tabPermutation">üî§ Permutation</button>
        </nav>
        <!-- PASCAL'S TRIANGLE TAB -->
        <section id="tab-pascal" class="tab-content" role="tabpanel">
            <div class="card">
                <h2 id="pascalTitle">Pascal's Triangle</h2>
                <p class="card-description" id="pascalDesc">
                    Each number is the sum of the two numbers above it. Row n and column k represent the binomial coefficient C(n, k). Hover over a number to see the relationship!
                </p>

                <div class="controls">
                    <div class="control-group">
                        <label id="pascalRowsLabel" for="pascalRows">Number of Rows:</label>
                        <input type="range" id="pascalRows" min="1" max="20" value="20" >
                        <span class="value-display" id="pascalRowsVal">20</span>
                    </div>
                </div>

                <div class="pascal-container" id="pascalTriangle"></div>
            </div>
        </section>

        <!-- LATTICE PATHS TAB -->
        <section id="tab-lattice" class="tab-content" role="tabpanel">
            <div class="card">
                <h2 id="latticeTitle">Lattice Paths</h2>
                <p class="card-description" id="latticeDesc">
                    A particle at (0,0) wants to reach (n, k). It can only move Right (R) or Up (U). How many unique paths are possible?
                </p>

                <div class="controls">
                    <div class="control-group">
                        <label id="latticeXLabel" for="latticeX">X Coordinate (Right):</label>
                        <input type="number" id="latticeX" min="1" max="20" value="3" >
                    </div>
                    <div class="control-group">
                        <label id="latticeYLabel" for="latticeY">Y Coordinate (Up):</label>
                        <input type="number" id="latticeY" min="1" max="20" value="2" >
                    </div>
                    <button class="btn-action" onclick="animateRandomPath()" id="latticeRandomBtn">üé≤ Random Path</button>
                </div>

                <div class="formula-box">
                    <div><span id="latticeTotalStepsText">Total steps =</span> <span id="totalSteps">5</span> <span id="latticeDirectionsText">(Right + Up)</span></div>
                    <div><span id="latticeChooseText">Choose</span> <span id="chooseSteps">2</span> <span id="latticeUpText">'Up' steps from</span> <span id="fromSteps">5</span> <span id="latticeStepsText">steps</span></div>
                    <div class="formula">C(<span id="formulaN">5</span>, <span id="formulaK">2</span>) = <span id="formulaResult">10</span></div>
                </div>

                <div class="result-big" id="latticeResult">10 Paths</div>

                <div class="lattice-wrapper">
                    <div class="lattice-grid-container" id="latticeContainer">
                        <div class="lattice-grid" id="latticeGrid"></div>
                    </div>
                    <div class="path-explanation">
                        <p id="latticePathExample">Example of one path:</p>
                        <div class="path-sequence" id="pathSequence">R ‚Üí R ‚Üí R ‚Üí U ‚Üí U</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- HANDSHAKE PROBLEM TAB -->
        <section id="tab-handshake" class="tab-content" role="tabpanel">
            <div class="card">
                <h2 id="handshakeTitle">Handshake Problem</h2>
                <p class="card-description" id="handshakeDesc">
                    If there are n people in a room and everyone shakes hands once with everyone else, how many total handshakes occur?
                </p>

                <div class="controls">
                    <div class="control-group">
                        <label id="handshakePeopleLabel" for="peopleCount">Number of People:</label>
                        <input type="range" id="peopleCount" min="2" max="50" value="20" >
                        <span class="value-display" id="peopleCountVal">20</span>
                    </div>
                </div>

                <div class="formula-box">
                    <div id="handshakeFormulaDesc">Each handshake is a selection of 2 people from n people.</div>
                    <div class="formula">C(n, 2) = n(n-1)/2 = <span id="handshakeFormula">5√ó4/2</span> = <span id="handshakeTotal">10</span></div>
                </div>

                <div class="result-big" id="handshakeResult">10 Handshakes</div>

                <div class="handshake-wrapper">
                    <canvas id="handshakeCanvas" width="400" height="400"></canvas>
                    <div class="handshake-stats">
                        <div class="stat-item">
                            <div class="stat-label" id="handshakeStatsPeople">People Count</div>
                            <div class="stat-value" id="statPeople">5</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label" id="handshakeStatsLines">Total Handshakes</div>
                            <div class="stat-value" id="statLines">10</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- PERMUTATION TAB -->
        <section id="tab-permutation" class="tab-content" role="tabpanel">
             <div class="input-wrapper">
                <input type="text" id="wordInput" placeholder="Type a word, e.g., MISSISSIPPI" autocomplete="off" spellcheck="false">
                <div class="button-group">
                    <button class="btn-action" onclick="analyzeAndCalculate()" id="permBtnCalc">
                        <span>‚ú®</span> Calculate
                    </button>
                    <button class="btn-clear" onclick="clearPermutation()" id="permBtnClear">
                        <span>‚úï</span> Clear
                    </button>
                </div>
            </div>

            <div id="permEmptyState" class="empty-state">
                <div class="empty-state-icon">üî§</div>
                <p id="permEmptyText">Enter a word to see permutation calculation results</p>
            </div>

            <div id="permResults" class="result-container">
                <div class="card">
                    <h3 id="permCaseGrouped">Case: Adjacent Identical Letters</h3>
                    <div class="tile-container" id="visualGrouped"></div>
                    <div class="result-value" id="resultGrouped">0</div>
                    <div class="explanation" id="formulaGrouped"></div>
                    <small id="permNoteGrouped">Identical letters are treated as one package (block).</small>
                </div>

                <div class="card">
                    <h3 id="permCaseStandard">Standard Permutation</h3>
                    <div class="tile-container" id="visualStandard"></div>
                    <div class="result-value" id="resultStandard">0</div>
                    <div class="explanation" id="formulaStandard"></div>
                    <small id="permNoteStandard">Formula: n! / (k‚ÇÅ! √ó k‚ÇÇ! √ó ...)</small>
                </div>
            </div>
        </section>

        <footer id="footerText">
            Made with üíú for math learning
        </footer>
    </div>

    <!-- Tooltip for Pascal's Triangle -->
    <div class="pascal-tooltip" id="pascalTooltip"></div>
    <script src="script.js"></script>
</body>
</html>
